@model FlowerShop.ViewModels.ChangepasswordViewModel
@{
    ViewBag.Title = "ChangePassword";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}

<div class="wrapper-login mt-3 container">
    <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/Home/Index">Trang chủ</a></li>
            <li class="breadcrumb-item active" aria-current="page">Đổi mật khẩu</li>
        </ol>
    </nav>
    <div class="form-container">
        <p class="title">Đổi mật khẩu</p>
        @using (Html.BeginForm("HandleChangepassword", "Sign", FormMethod.Post, new { @class = "form-custom" }))
        {
            @Html.HiddenFor(m => m.Username)
            @Html.ValidationMessageFor(m => m.Username)
            <div class="input-group-custom mb-4">
                @Html.LabelFor(m => m.oldPassword)
                @Html.PasswordFor(m => m.oldPassword, new { @placeholder = "Nhập mật khẩu cũ" })
                @Html.ValidationMessageFor(m => m.oldPassword)
                @Html.ValidationMessageFor(m => m, "", new { @class = "d-block mt-2" })
            </div>
            <div class="input-group-custom mb-4">
                @Html.LabelFor(m => m.newPassword)
                @Html.PasswordFor(m => m.newPassword, new { @placeholder = "Nhập mật khẩu mới" })
                @Html.ValidationMessageFor(m => m.newPassword)
            </div>
            <div class="input-group-custom mb-4">
                @Html.LabelFor(m => m.confirmNewPassword)
                @Html.PasswordFor(m => m.confirmNewPassword, new { @placeholder = "Nhập lại mật khẩu mới" })
                @Html.ValidationMessageFor(m => m.confirmNewPassword)
            </div>
            <button class="sign" type="submit">Đổi mật khẩu</button>
        }
    </div>
</div>

@section scripts{
    <div id="toast"></div>
    <script type="module" src="~/Assets/js/Toast.js"></script>
}

@if (Session["ChangePWSuccess"] != null)
{
    Session["ChangePWSuccess"] = null;
    <script type="module">
        import toast from "../../Assets/js/Toast.js"
        toast({
            type: 'success',
            title: 'Thành công',
            message: 'Đổi mật khẩu thành công'
        })
    </script>
}
